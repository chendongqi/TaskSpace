# Change: 添加任务优先级和周目标关联功能

## Why
当前任务管理系统缺少优先级标识,用户无法快速区分任务的重要程度。同时,任务、周目标、季度目标和年度目标之间缺少直接关联,导致用户在执行日常任务时很难看到这些任务与更长远目标的联系。

添加优先级和周目标关联功能可以帮助用户:
- 通过优先级快速识别最重要的任务
- 将每日任务与周目标、季度目标和年度目标建立关联
- 在完成任务时自动更新关联目标的进度(可选)
- 提升目标管理系统的实用性和连贯性
- 增强任务管理的战略意义

## What Changes
- **添加任务优先级字段**: 为日常任务、习惯、年度目标、季度目标和周目标添加 priority 字段(P0/P1/P2/P3 或 None)
- **添加周目标关联字段**: 在任务数据模型中添加可选的 weeklyGoalId 字段
- **修改任务创建 UI**: 在 AddTaskModal 中添加优先级选择器和周目标关联选择器
- **修改任务显示**: 在任务列表中显示优先级徽章,使用颜色和图标区分
- **修改目标创建 UI**: 在年度、季度、周目标创建表单中添加优先级选择器
- **修改目标列表显示**: 在目标卡片上显示优先级标识
- **添加优先级筛选**: 支持按优先级筛选任务和目标
- **修改数据持久化**: 更新 DataStorage 系统以支持新字段
- **保持向后兼容**: 旧数据自动迁移,priority 和 weeklyGoalId 默认为 undefined

## Impact
- 受影响的能力(specs):
  - `task-management` (新建规范) - 任务管理的核心能力
  - `goal-management` (修改) - 目标管理系统需要添加优先级支持
  
- 受影响的代码文件:
  - `app/page.js` - 添加任务和目标的优先级状态管理
  - `components/add-task-modal.js` - 添加优先级和周目标选择器
  - `components/task-list.js` - 显示优先级徽章
  - `components/yearly-goals-tracker.js` - 添加优先级选择器和显示
  - `components/quarterly-goals-tracker.js` - 添加优先级选择器和显示
  - `components/weekly-goals-tracker.js` - 添加优先级选择器和显示
  - `lib/storage.js` - 更新数据合并逻辑以处理新字段
  
- **非破坏性变更**: 所有新字段都是可选的,旧数据无需迁移即可正常工作


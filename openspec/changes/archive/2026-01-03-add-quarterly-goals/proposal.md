# Change: 添加季度目标管理功能

## Why
用户需要将年度目标拆解为更细致的季度目标，以便更好地管理和追踪长期目标的实现进度。当前系统虽然支持年度目标，但缺少季度级别的拆解和追踪能力，无法帮助用户在季度维度上进行有效规划和执行。

季度目标功能可以帮助用户：
- 将年度目标拆解为可执行的季度目标
- 通过季度目标的完成进度自动计算年度目标进度
- 在更短的时间周期内追踪目标完成情况
- 建立"年度目标-季度目标"的层级关系和加权计算机制
- 提供独立的季度目标视图，同时支持关联到年度目标

## What Changes
- **添加季度目标数据模型**：包括目标标题、描述、目标年份、目标季度、完成状态、进度百分比、关联的年度目标 ID、权重占比、标签、创建时间等
- **添加季度目标管理 UI 组件**：独立的底部抽屉式模态框，与年度目标追踪器风格一致但独立展示
- **添加季度目标列表显示**：支持按年份和季度筛选、按完成状态排序
- **添加季度目标创建/编辑功能**：表单界面，支持设定目标信息、选择关联的年度目标、设定权重占比
- **实现年度目标关联和权重系统**：创建季度目标时可选择关联的年度目标，并设定该季度目标在年度目标中的权重占比
- **实现自动进度计算**：当季度目标关联到年度目标时，年度目标的进度自动根据关联的所有季度目标的加权平均值计算
- **添加季度目标进度追踪**：手动更新进度百分比，变更后触发关联年度目标的进度重算
- **添加季度目标删除功能**：确认后删除目标，删除后触发关联年度目标的进度重算
- **集成数据存储系统**：使用现有的 DataStorage 类进行持久化和同步
- **添加导航入口**：在主界面底部导航栏或设置中添加入口
- **修改年度目标显示**：在年度目标列表中显示关联的季度目标信息和自动计算的进度（区分手动设置和自动计算）

## Impact
### 影响的规范
- 修改 `goal-management` 能力规范（添加季度目标相关需求，修改年度目标进度计算逻辑）

### 影响的代码
- `lib/storage.js` - 添加 `quarterlyGoals` 数据合并逻辑
- `components/` - 新增 `quarterly-goals-tracker.js` 组件
- `components/yearly-goals-tracker.js` - 修改以显示关联的季度目标信息和自动计算的进度
- `app/page.js` - 集成季度目标数据、UI 和进度计算逻辑
- `app/globals.css` - 可能需要添加特定样式（如果需要）

### 数据库/存储影响
- LocalStorage 新增 `quarterlyGoals` 键
- 服务器备份目录新增 `quarterlyGoals.json` 文件
- 数据导出/导入功能需要包含季度目标数据
- 年度目标数据结构需要支持区分手动进度和自动计算进度

### 兼容性
- **向后兼容**：旧版本数据不包含 quarterlyGoals 键时，默认为空数组
- **年度目标兼容**：未关联季度目标的年度目标继续使用手动进度设置
- 不影响现有任务、习惯、标签等功能

### Breaking Changes
- **部分破坏性变更**：年度目标的进度计算逻辑会改变。当年度目标关联了季度目标后，其进度将自动计算，用户无法手动修改进度（除非先解除所有关联的季度目标）

